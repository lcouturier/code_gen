# Enum Steroids

**Supercharge your Dart enums with powerful code generation!**

Enum Steroids is a Dart project that provides code generation capabilities to enhance your enums. It automatically adds helpful utility methods, including:

*   **Pattern matching:** `when`, `map`, `maybeWhen`, and `maybeMap` methods for elegant and safe state handling.
*   **Boolean checkers:** Getter methods to easily check for specific enum values (e.g., `isMyEnumValue`).

This eliminates boilerplate code and makes working with enums more expressive and robust.

## Packages

This project is a monorepo containing the following packages:

*   **`annotations`**: Provides the `@steroids` annotation that you'll use to mark your enums for code generation.
*   **`generators`**: Contains the build_runner compatible code generators. These generators find enums annotated with `@steroids` and produce the corresponding utility methods (in `.g.dart` files) and unit tests.
*   **`example`**: A sample Flutter application demonstrating how to use the `@steroids` annotation and the code generated by the `generators` package.

## The `@steroids` Annotation

The core of this project is the `@steroids` annotation (from the `annotations` package). Apply this annotation to any enum definition to enable code generation for it.

```dart
import 'package:annotations/annotations.dart';

part 'my_enum.g.dart'; // Required for the generated code

@steroids
enum MyEnum {
  valueA,
  valueB,
  valueC,
}
```

The `@steroids` annotation accepts several boolean parameters to customize the generated code:

*   `hasWhen` (default: `true`): Generates the `when` method for exhaustive pattern matching.
*   `hasMap` (default: `true`): Generates the `map` method, similar to `when` but passes the enum value to the callback.
*   `hasMaybeWhen` (default: `true`): Generates the `maybeWhen` method for non-exhaustive pattern matching with an `orElse` fallback.
*   `hasMaybeMap` (default: `true`): Generates the `maybeMap` method, similar to `maybeWhen` but passes the enum value to the callback.
*   `hasChecker` (default: `true`): Generates boolean getter properties for each enum value (e.g., `isValueA`).

You can disable specific generations by setting these parameters to `false`:

```dart
@steroids(
  hasMap: false,
  hasMaybeMap: false,
)
enum MyEnumWithCustomGeneration {
  one,
  two,
}
```

## Usage Example

Let's say you have an enum like this:

```dart
// lib/src/status.dart
import 'package:annotations/annotations.dart';

part 'status.g.dart';

@steroids
enum Status {
  pending,
  running,
  completed,
  failed,
}
```

After running the build runner, the `generators` package will create a `status.g.dart` file (because of `part 'status.g.dart';`). This file will contain an extension on your `Status` enum:

```dart
// lib/src/status.g.dart
// GENERATED CODE - DO NOT MODIFY BY HAND

part of 'status.dart';

// **************************************************************************
// EnumPatternMatchingGenerator
// **************************************************************************

extension ExtensionStatus on Status {
  /// Whether this is equal to Status.pending.
  bool get isPending => this == Status.pending;

  /// Whether this is equal to Status.running.
  bool get isRunning => this == Status.running;

  /// Whether this is equal to Status.completed.
  bool get isCompleted => this == Status.completed;

  /// Whether this is equal to Status.failed.
  bool get isFailed => this == Status.failed;

  /// Use when method when you want to perform some action based on the enum
  T when<T>({
    required T Function() pending,
    required T Function() running,
    required T Function() completed,
    required T Function() failed,
  }) {
    switch (this) {
      case Status.pending:
        return pending();
      case Status.running:
        return running();
      case Status.completed:
        return completed();
      case Status.failed:
        return failed();
    }
  }

  // ... other methods like map, maybeWhen, maybeMap ...
}
```

Now you can use these generated methods:

```dart
final status = Status.running;

if (status.isRunning) {
  print("The process is running.");
}

String message = status.when(
  pending: () => "Waiting to start...",
  running: () => "Currently active.",
  completed: () => "Finished successfully!",
  failed: () => "Something went wrong.",
);
print(message); // Output: Currently active.
```

## Getting Started

To use Enum Steroids in your Dart or Flutter project:

1.  **Add dependencies:**
    Open your `pubspec.yaml` file and add the following:

    ```yaml
    dependencies:
      # Other dependencies...
      annotations: ^latest # Or specify the version you want

    dev_dependencies:
      # Other dev_dependencies...
      build_runner: ^latest # Or specify the version
      generators: ^latest   # Or specify the version
    ```
    *(Note: Replace `^latest` with the actual latest versions from pub.dev if you know them, or use specific version constraints.)*

2.  **Import the annotations package and add the `part` directive:**
    In the Dart file where your enum is defined, import the `annotations` package and add a `part` directive pointing to a `.g.dart` file (this file will be generated).

    ```dart
    import 'package:annotations/annotations.dart';

    part 'my_enum.g.dart'; // Conventionally, 'filename.g.dart'

    @steroids
    enum MyEnum {
      // ... your enum values
    }
    ```

3.  **Run the code generator:**
    Execute the following command in your project's root directory:

    ```bash
    dart run build_runner build --delete-conflicting-outputs
    ```
    Or for Flutter projects:
    ```bash
    flutter pub run build_runner build --delete-conflicting-outputs
    ```
    This will generate the necessary `.g.dart` files containing the extension methods for your annotated enums.

    For continuous generation as you develop, you can use:
    ```bash
    dart run build_runner watch --delete-conflicting-outputs
    ```
    (or `flutter pub run build_runner watch ...` for Flutter).

Now you can import the enum as usual and start using the generated extension methods.

## Contributing

Contributions are welcome! If you find any issues, have suggestions for improvements, or want to add new features:

*   **Reporting Issues:** Please open an issue on the project's issue tracker, providing a clear description of the problem, steps to reproduce (if applicable), and your environment details.
*   **Feature Requests:** You can also open an issue to suggest new features or enhancements.
*   **Pull Requests:** If you'd like to contribute code, please fork the repository, create a new branch for your changes, and then submit a pull request. Ensure your code follows the existing style and that any relevant tests are added or updated.

We appreciate your help in making Enum Steroids better!

## License

This project is currently distributed without an explicit license. Please refer to the `LICENSE` files within the `annotations` and `generators` packages, or contact the project maintainers for licensing information.

It is recommended to add a clear open-source license (e.g., MIT, Apache 2.0, BSD) to the project by updating the `LICENSE` files in the sub-packages and potentially adding one to the root of the project.
